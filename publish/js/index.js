"use strict";var $box=$("#box"),$leftBtn=$("#leftBtn"),$rightBtn=$("#rightBtn"),$carousel=$("#carousel"),$cirs=$("#cirs li"),$paginationContainer=$("#paginationContainer");$carousel.children("li").eq(0).clone().appendTo($carousel);var width=$box.width(),idx=0;function change(){$cirs.each(function(t,i){t===idx?$(i).addClass("active"):$(i).removeClass("active")})}$rightBtn.click(function(){idx++,$carousel.stop().animate({left:-idx*width},1e3,"linear",function(){6<=idx&&($(this).css("left",0),idx=0),change()})}),$leftBtn.click(function(){--idx<0&&(idx=6,$carousel.css("left",-idx*width),idx--),$carousel.stop().animate({left:-idx*width},1e3,function(){change()})}),$cirs.each(function(t,i){$(i).click(function(){t!==idx&&(idx=t,$carousel.stop().animate({left:-idx*width},1e3,function(){change()}))})});var timer=setInterval(function(){$rightBtn.trigger("click")},2e3);$box.mouseenter(function(){clearInterval(timer)}),$box.mouseleave(function(){timer=setInterval(function(){$rightBtn.trigger("click")},2e3)});var goodsArr=[];$.ajax({url:"../php/getGoods.php",type:"GET",dataType:"json",success:function(t){if(t.error)throw new Error("请求失败");goodsArr=t.msg,new Pagination($paginationContainer[0],goodsArr,0,12).display(function(t){var i='<ul class="row wrap-column list-group list-group-horizontal">';return t.forEach(function(t){i+=' \n                                <li class="col col-4 list-group-item" style="padding: 0 10px; border: none;" >\n                            <div class="card">\n                                <img src="'+t.goods_small_logo+'" class="card-img-top" alt="...">\n                                <div class="card-body">\n                                <p class="card-text"><a href="./detail.html?id='+t.goods_id+'">'+t.goods_name+'</a></p>\n                                <p class=" d-flex justify-content-md-between align-items-center card-text"><span>'+t.goods_price+'</span><button type="button" data-id="'+t.goods_id+'" class=" btn btn-dark">添加购物车</button></p>\n                                </div>\n                            </div>   \n                        </li>\n                        '}),i+="</ul>"})}});